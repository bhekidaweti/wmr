{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Shop=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const APIurl=process.env.REACT_APP_API_URL;useEffect(()=>{axios.get(`${APIurl}/api/products`).then(res=>{if(Array.isArray(res.data)){setProducts(res.data);}else{console.error(\"Unexpected response from API:\",res.data);}}).catch(err=>console.error(\"Fetch error:\",err)).finally(()=>setLoading(false));// Ensure loading is set to false after fetching\n},[APIurl]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading products...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"DonTheMemes Merch\"}),/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.map(product=>{var _product$images$;return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_product$images$=product.images[0])===null||_product$images$===void 0?void 0:_product$images$.url)||'default-placeholder.jpg',alt:product.title,className:\"product-image\"}),/*#__PURE__*/_jsx(\"h3\",{children:product.title}),/*#__PURE__*/_jsx(\"p\",{children:product.price}),/*#__PURE__*/_jsx(\"a\",{href:`https://printify.com/products/${product.id}`,target:\"_blank\",rel:\"noopener noreferrer\",className:\"buy-button\",children:\"Buy Now\"})]},product.id);})})]});};export default Shop;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Shop","products","setProducts","loading","setLoading","APIurl","process","env","REACT_APP_API_URL","get","then","res","Array","isArray","data","console","error","catch","err","finally","children","className","map","product","_product$images$","src","images","url","alt","title","price","href","id","target","rel"],"sources":["C:/Users/DDR/desktop/projects/wiki-memes-react/front-end/src/Components/Shop.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Shop = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const APIurl = process.env.REACT_APP_API_URL;\r\n  \r\n  useEffect(() => {\r\n    axios.get(`${APIurl}/api/products`)\r\n      .then((res) => {\r\n        if (Array.isArray(res.data)) {\r\n          setProducts(res.data);\r\n        } else {\r\n          console.error(\"Unexpected response from API:\", res.data);\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Fetch error:\", err))\r\n      .finally(() => setLoading(false)); // Ensure loading is set to false after fetching\r\n  }, [APIurl]);\r\n\r\n  if (loading) return <div>Loading products...</div>;\r\n\r\n  return (\r\n    <div className=\"shop-container\">\r\n      <h2>DonTheMemes Merch</h2>\r\n      <div className=\"product-grid\">\r\n        {products.map((product) => (\r\n          <div key={product.id} className=\"product-card\">\r\n            <img\r\n              src={product.images[0]?.url || 'default-placeholder.jpg'}\r\n              alt={product.title}\r\n              className=\"product-image\"\r\n            />\r\n            <h3>{product.title}</h3>\r\n            <p>{product.price}</p>\r\n            <a\r\n              href={`https://printify.com/products/${product.id}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"buy-button\"\r\n            >\r\n              Buy Now\r\n            </a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAY,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE5Cd,SAAS,CAAC,IAAM,CACdC,KAAK,CAACc,GAAG,CAAC,GAAGJ,MAAM,eAAe,CAAC,CAChCK,IAAI,CAAEC,GAAG,EAAK,CACb,GAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAACG,IAAI,CAAC,CAAE,CAC3BZ,WAAW,CAACS,GAAG,CAACG,IAAI,CAAC,CACvB,CAAC,IAAM,CACLC,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAEL,GAAG,CAACG,IAAI,CAAC,CAC1D,CACF,CAAC,CAAC,CACDG,KAAK,CAAEC,GAAG,EAAKH,OAAO,CAACC,KAAK,CAAC,cAAc,CAAEE,GAAG,CAAC,CAAC,CAClDC,OAAO,CAAC,IAAMf,UAAU,CAAC,KAAK,CAAC,CAAC,CAAE;AACvC,CAAC,CAAE,CAACC,MAAM,CAAC,CAAC,CAEZ,GAAIF,OAAO,CAAE,mBAAON,IAAA,QAAAuB,QAAA,CAAK,qBAAmB,CAAK,CAAC,CAElD,mBACErB,KAAA,QAAKsB,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7BvB,IAAA,OAAAuB,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BvB,IAAA,QAAKwB,SAAS,CAAC,cAAc,CAAAD,QAAA,CAC1BnB,QAAQ,CAACqB,GAAG,CAAEC,OAAO,OAAAC,gBAAA,oBACpBzB,KAAA,QAAsBsB,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC5CvB,IAAA,QACE4B,GAAG,CAAE,EAAAD,gBAAA,CAAAD,OAAO,CAACG,MAAM,CAAC,CAAC,CAAC,UAAAF,gBAAA,iBAAjBA,gBAAA,CAAmBG,GAAG,GAAI,yBAA0B,CACzDC,GAAG,CAAEL,OAAO,CAACM,KAAM,CACnBR,SAAS,CAAC,eAAe,CAC1B,CAAC,cACFxB,IAAA,OAAAuB,QAAA,CAAKG,OAAO,CAACM,KAAK,CAAK,CAAC,cACxBhC,IAAA,MAAAuB,QAAA,CAAIG,OAAO,CAACO,KAAK,CAAI,CAAC,cACtBjC,IAAA,MACEkC,IAAI,CAAE,iCAAiCR,OAAO,CAACS,EAAE,EAAG,CACpDC,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CACzBb,SAAS,CAAC,YAAY,CAAAD,QAAA,CACvB,SAED,CAAG,CAAC,GAfIG,OAAO,CAACS,EAgBb,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}