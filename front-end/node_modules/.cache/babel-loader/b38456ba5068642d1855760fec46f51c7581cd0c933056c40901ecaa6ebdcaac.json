{"ast":null,"code":"import _slicedToArray from\"C:/Users/DDR/Desktop/projects/wiki-memes-react/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shop=function Shop(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var APIurl=process.env.API_URL;useEffect(function(){axios.get(\"\".concat(APIurl,\"/api/products\")).then(function(res){if(Array.isArray(res.data)){setProducts(res.data);}else{console.error(\"Unexpected response from API:\",res.data);}}).catch(function(err){return console.error(\"Fetch error:\",err);}).finally(function(){return setLoading(false);});// Ensure loading is set to false after fetching\n},[APIurl]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading products...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"shop-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"DonTheMemes Merch\"}),/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:products.map(function(product){var _product$images$;return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_product$images$=product.images[0])===null||_product$images$===void 0?void 0:_product$images$.url)||'default-placeholder.jpg',alt:product.title,className:\"product-image\"}),/*#__PURE__*/_jsx(\"h3\",{children:product.title}),/*#__PURE__*/_jsx(\"p\",{children:product.price}),/*#__PURE__*/_jsx(\"a\",{href:\"https://printify.com/products/\".concat(product.id),target:\"_blank\",rel:\"noopener noreferrer\",className:\"buy-button\",children:\"Buy Now\"})]},product.id);})})]});};export default Shop;","map":{"version":3,"names":["React","useState","useEffect","axios","Shop","products","setProducts","loading","setLoading","APIurl","process","env","API_URL","get","then","res","Array","isArray","data","console","error","catch","err","finally","map","product","images","url","title","price","id"],"sources":["C:/Users/DDR/Desktop/projects/wiki-memes-react/front-end/src/Components/Shop.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Shop = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const APIurl = process.env.API_URL;\r\n  \r\n  useEffect(() => {\r\n    axios.get(`${APIurl}/api/products`)\r\n      .then((res) => {\r\n        if (Array.isArray(res.data)) {\r\n          setProducts(res.data);\r\n        } else {\r\n          console.error(\"Unexpected response from API:\", res.data);\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Fetch error:\", err))\r\n      .finally(() => setLoading(false)); // Ensure loading is set to false after fetching\r\n  }, [APIurl]);\r\n\r\n  if (loading) return <div>Loading products...</div>;\r\n\r\n  return (\r\n    <div className=\"shop-container\">\r\n      <h2>DonTheMemes Merch</h2>\r\n      <div className=\"product-grid\">\r\n        {products.map((product) => (\r\n          <div key={product.id} className=\"product-card\">\r\n            <img\r\n              src={product.images[0]?.url || 'default-placeholder.jpg'}\r\n              alt={product.title}\r\n              className=\"product-image\"\r\n            />\r\n            <h3>{product.title}</h3>\r\n            <p>{product.price}</p>\r\n            <a\r\n              href={`https://printify.com/products/${product.id}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"buy-button\"\r\n            >\r\n              Buy Now\r\n            </a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n"],"mappings":"8IAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,cAAgCH,QAAQ,CAAC,EAAE,CAAC,wCAArCI,QAAQ,eAAEC,WAAW,eAC5B,eAA8BL,QAAQ,CAAC,IAAI,CAAC,yCAArCM,OAAO,eAAEC,UAAU,eAE1B,GAAMC,OAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,OAAO,CAElCV,SAAS,CAAC,UAAM,CACdC,KAAK,CAACU,GAAG,WAAIJ,MAAM,kBAAgB,CAChCK,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAACG,IAAI,CAAC,CAAE,CAC3BZ,WAAW,CAACS,GAAG,CAACG,IAAI,CAAC,CACvB,CAAC,IAAM,CACLC,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAEL,GAAG,CAACG,IAAI,CAAC,CAC1D,CACF,CAAC,CAAC,CACDG,KAAK,CAAC,SAACC,GAAG,QAAKH,QAAO,CAACC,KAAK,CAAC,cAAc,CAAEE,GAAG,CAAC,GAAC,CAClDC,OAAO,CAAC,iBAAMf,WAAU,CAAC,KAAK,CAAC,GAAC,CAAE;AACvC,CAAC,CAAE,CAACC,MAAM,CAAC,CAAC,CAEZ,GAAIF,OAAO,CAAE,mBAAO,qBAAK,qBAAmB,EAAM,CAElD,mBACE,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,oBAAI,mBAAiB,EAAK,cAC1B,YAAK,SAAS,CAAC,cAAc,UAC1BF,QAAQ,CAACmB,GAAG,CAAC,SAACC,OAAO,0CACpB,aAAsB,SAAS,CAAC,cAAc,wBAC5C,YACE,GAAG,CAAE,mBAAAA,OAAO,CAACC,MAAM,CAAC,CAAC,CAAC,2CAAjB,iBAAmBC,GAAG,GAAI,yBAA0B,CACzD,GAAG,CAAEF,OAAO,CAACG,KAAM,CACnB,SAAS,CAAC,eAAe,EACzB,cACF,oBAAKH,OAAO,CAACG,KAAK,EAAM,cACxB,mBAAIH,OAAO,CAACI,KAAK,EAAK,cACtB,UACE,IAAI,yCAAmCJ,OAAO,CAACK,EAAE,CAAG,CACpD,MAAM,CAAC,QAAQ,CACf,GAAG,CAAC,qBAAqB,CACzB,SAAS,CAAC,YAAY,UACvB,SAED,EAAI,GAfIL,OAAO,CAACK,EAAE,CAgBd,EACP,CAAC,EACE,GACF,CAEV,CAAC,CAED,cAAe1B,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}